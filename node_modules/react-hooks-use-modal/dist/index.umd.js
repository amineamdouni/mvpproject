!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("react-dom"),require("body-scroll-lock"),require("focus-trap")):"function"==typeof define&&define.amd?define(["exports","react","react-dom","body-scroll-lock","focus-trap"],t):t((e||self).reactHooksUseModal={},e.react,e.reactDom,e.bodyScrollLock,e.focusTrap)}(this,function(e,t,n,r,o){function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=l(t),i={position:"fixed",top:0,left:0,bottom:0,right:0,display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},c=function(e){return a.default.createElement("div",{style:i},e.children)},u={position:"fixed",top:0,left:0,bottom:0,right:0,backgroundColor:"rgba(0, 0, 0, 0.5)"},s=function(){return a.default.createElement("div",{style:u})},d=function(e){return a.default.createElement(t.Fragment,null,e.children)};function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}var p=function(e){var l=e.children,i=e.isOpen,c=e.close,u=e.elementId,s=void 0===u?"root":u,d=e.title,p=e.description,m=e.preventScroll,v=e.focusTrapOptions,b=e.components,h=e.additionalProps,y=t.useRef(null);return function(e,n,r){t.useEffect(function(){if(n&&null!==e.current){var t=o.createFocusTrap(e.current,f({fallbackFocus:e.current},r));return t.activate(),setTimeout(function(){document.activeElement===e.current&&console.warn("[react-hooks-use-modal]: Since there were no focusable elements in the modal, the initial focus was on the containing element.\n  WAI-ARIA 1.1 states that there should be at least one focusable element in the modal.\n  https://www.w3.org/TR/wai-aria-1.1/#dialog")},100),function(){t.deactivate()}}},[r,n,e])}(y,i,t.useMemo(function(){return f({onDeactivate:c,clickOutsideDeactivates:!0},v)},[c,v])),function(e,n,o){t.useEffect(function(){if(null!==e.current)return o?(n?r.disableBodyScroll(e.current,{reserveScrollBarGap:!0}):r.enableBodyScroll(e.current),function(){r.clearAllBodyScrollLocks()}):void 0},[n,o,e])}(y,i,m),!1===i?null:n.createPortal(a.default.createElement(b.Wrapper,null,a.default.createElement(b.Overlay,null),a.default.createElement("div",{ref:y,role:"dialog","aria-modal":"true",tabIndex:-1,style:{position:"relative"}},a.default.createElement(b.Modal,{title:d,description:p,close:c,additionalProps:h},l))),document.getElementById(s))},m=t.createContext({}),v=["children"],b={initialValue:!1,preventScroll:!1,focusTrapOptions:{},components:{}};e.ModalProvider=function(e){var t=e.children,n=function(e,t){if(null==e)return{};var n,r,o={},l=Object.keys(e);for(r=0;r<l.length;r++)t.indexOf(n=l[r])>=0||(o[n]=e[n]);return o}(e,v);return a.default.createElement(m.Provider,{value:n},t)},e.useModal=function(e,n){var r,o,l;void 0===e&&(e="root");var i=t.useContext(m),u=t.useMemo(function(){return Object.assign({},b,i,n)},[i,n]),f=u.preventScroll,v=u.focusTrapOptions,h=u.components,y=t.useState(u.initialValue),g=y[0],O=y[1],k=t.useCallback(function(){O(!0)},[O]),E=t.useCallback(function(){O(!1)},[O]),x=null!=(r=h.Wrapper)?r:c,S=null!=(o=h.Overlay)?o:s,T=null!=(l=h.Modal)?l:d;return[t.useCallback(function(t){return a.default.createElement(p,{isOpen:g,close:E,elementId:e,title:t.title,description:t.description,preventScroll:f,focusTrapOptions:v,components:{Modal:T,Overlay:S,Wrapper:x},additionalProps:t.additionalProps},t.children)},[T,S,x,E,e,v,g,f]),k,E,g]}});
